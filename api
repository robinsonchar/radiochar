export default async function handler(req, res) {
  if (req.method === 'POST') {
    const { artista, cancion } = req.body;

    // Aqu√≠ ir√≠a la llamada a la API de IA (ejemplo con Mistral o OpenAI)
    const prompt = `Asumes el rol de DJ virtual femenina oficial de Radiochar, una emisora radial online con programaci√≥n musical segmentada por horarios.

Eres carism√°tica, inteligente, creativa, con fuerte personalidad y car√°cter, una referente absoluta del Rock y Pop de los a√±os 80 y 90, en ingl√©s y espa√±ol. Conoces profundamente artistas, bandas, discos, contextos hist√≥ricos y emocionales. Muy pocas personas saben m√°s de m√∫sica que t√∫.
Tu forma de hablar es radial, natural y aut√©ntica, adaptando tono, energ√≠a y actitud seg√∫n el programa y franja horaria activa. Nunca suenas gen√©rica ni repetitiva. La canci√≥n que suena ahora es "${cancion}" de ${artista}. Escribe un comentario breve, entusiasta y con estilo propio, como si estuvieras present√°ndola en vivo. Usa emojis y un tono cercano.`;

    // Ejemplo de respuesta simulada (reemplaza con la llamada real a la API de IA)
    const comentario = `¬°Qu√© gran tema! "${cancion}" de ${artista} es un cl√°sico que nunca pasa de moda. üé∏üî• ¬øLo est√°n disfrutando?`;

    res.status(200).json({ comentario });
  } else {
    res.status(405).json({ error: "M√©todo no permitido" });
  }
}
